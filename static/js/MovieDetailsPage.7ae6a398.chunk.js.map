{"version":3,"file":"static/js/MovieDetailsPage.7ae6a398.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetailsPage.module.css?6c65","pages/MovieDetailsPage.jsx","services/MoviesApi.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieContainer\":\"MovieDetailsPage_movieContainer__D9pLu\",\"movieImg\":\"MovieDetailsPage_movieImg__AjzyA\",\"link\":\"MovieDetailsPage_link__k0vIs\",\"active\":\"MovieDetailsPage_active__Y2By1\",\"notFound\":\"MovieDetailsPage_notFound__IIAV3\"};","import Loader from 'components/Loader/Loader';\nimport { useState, useEffect, lazy, Suspense } from 'react';\nimport {\n  useParams,\n  NavLink,\n  useRouteMatch,\n  useLocation,\n  useHistory,\n  Switch,\n  Route,\n} from 'react-router-dom';\nimport { getMovieById, IMAGE_URL } from '../services/MoviesApi';\nimport styles from './MovieDetailsPage.module.css';\n\nconst MovieReview = lazy(() =>\n  import('./MovieReview' /* webpackChunkName:\"MovieReview\" */)\n);\nconst MovieCastView = lazy(() =>\n  import('./MovieCastView' /* webpackChunkName:\"MovieCastView\" */)\n);\n\nexport default function MovieDetailsPage() {\n  const [movie, setMovie] = useState(null);\n  const { movieId } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n  const { url, path } = useRouteMatch();\n\n  useEffect(() => {\n    const getMovie = async () => {\n      const currentMovie = await getMovieById(movieId);\n\n      setMovie(currentMovie);\n    };\n\n    getMovie();\n  }, [movieId]);\n\n  const onGoBack = () => {\n    history.push(location?.state?.from?.location ?? '/movies');\n  };\n\n  return (\n    <>\n      {!movie ? (\n        <div className={styles.notFound}>This movie is not found</div>\n      ) : (\n        <>\n          <button type=\"button\" onClick={onGoBack}>\n            Go back\n          </button>\n          <div className={styles.movieContainer}>\n            <div className={styles.movieImg}>\n              <img\n                src={\n                  movie.poster_path\n                    ? IMAGE_URL + movie.poster_path\n                    : `https://bitsofco.de/content/images/2018/12/broken-1.png`\n                }\n                alt={movie.title}\n                widht=\"\"\n                height=\"\"\n              />\n            </div>\n\n            <div>\n              <h2>{movie.title}</h2>\n              <p>User Score: {`${movie.vote_average * 10}`}%</p>\n              <h3>Overview</h3>\n              <p>{`${movie.overview}`}</p>\n              <h3>Genres</h3>\n              <p>{`${movie.genres.map(genre => genre.name).join(' / ')}`}</p>\n            </div>\n          </div>\n        </>\n      )}\n      <hr />\n      <p>Additional information</p>\n      <nav>\n        <NavLink\n          to={{ pathname: `${url}/cast`, state: location.state }}\n          className={styles.link}\n          activeClassName={styles.active}\n        >\n          Cast\n        </NavLink>\n        <NavLink\n          to={{ pathname: `${url}/reviews`, state: location.state }}\n          className={styles.link}\n          activeClassName={styles.active}\n        >\n          Reviews\n        </NavLink>\n      </nav>\n\n      <Suspense fallback={<Loader />}>\n        <Switch>\n          <Route path={`${path}/cast`}>\n            <MovieCastView movieId={movieId} />\n          </Route>\n\n          <Route path={`${path}/reviews`}>\n            <MovieReview movieId={movieId} />\n          </Route>\n        </Switch>\n      </Suspense>\n    </>\n  );\n}\n","import axios from 'axios';\n\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\nconst instanceMovie = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: '5ba51c2da469b356ab2a1378773a169b',\n  }\n});\n\nexport const getTrendingMovie = async () => {\n  const {\n    data\n  } = await instanceMovie.get('/trending/all/day', {\n    params: {\n      page: 1,\n    },\n  });\n  return data;\n};\n\nexport const getMovieByQuery = async query => {\n  const {\n    data\n  } = await instanceMovie.get('/search/movie', {\n    params: {\n      query,\n    },\n  });\n  return data;\n};\n\n\nexport const getMovieById = async movie_id => {\n  const { data } = await instanceMovie.get(`/movie/${movie_id}`);\n  return data;\n};\n\nexport const getMovieCast = async id => {\n  const { data } = await axios.get(`movie/${id}/credits`);\n  return data.cast;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await axios.get(`movie/${id}/reviews`);\n  return data.results;\n};\n"],"names":["MovieReview","lazy","MovieCastView","MovieDetailsPage","useState","movie","setMovie","movieId","useParams","history","useHistory","location","useLocation","useRouteMatch","url","path","useEffect","getMovie","getMovieById","currentMovie","type","onClick","push","state","from","className","styles","src","poster_path","IMAGE_URL","alt","title","widht","height","vote_average","overview","genres","map","genre","name","join","to","pathname","activeClassName","Suspense","fallback","Loader","instanceMovie","axios","baseURL","params","api_key","getTrendingMovie","get","page","data","getMovieByQuery","query","movie_id","getMovieCast","id","cast","getMovieReviews","results"],"sourceRoot":""}