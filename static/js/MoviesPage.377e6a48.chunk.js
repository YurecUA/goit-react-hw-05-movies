"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[410],{5918:function(t,e,r){r.r(e),r.d(e,{default:function(){return w}});var n=r(3063),a=r(5861),u=r(8152),c=r(4687),s=r.n(c),o="MoviesPage_searchbar__h5+Hv",i="MoviesPage_searchForm__MtlmP",p="MoviesPage_searchFormButton__wppho",f="MoviesPage_SearchFormInput__weghc",h=r(2791),m=r(3276),v=r(1523),l=r(4880),d=r(1686),g=r.n(d),x=r(184),w=function(){var t=(0,h.useState)(""),e=(0,u.Z)(t,2),r=e[0],c=e[1],d=(0,h.useState)([]),w=(0,u.Z)(d,2),_=w[0],b=w[1],y=(0,l.TH)(),k=(0,l.k6)();(0,h.useEffect)((function(){var t=new URLSearchParams(y.search).get("query");if(t){var e=function(){var e=(0,a.Z)(s().mark((function e(){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Ph)(t);case 2:r=e.sent,n=r.results,b(n),c(t),console.log(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}}),[y.search]);var Z=function(){var t=(0,a.Z)(s().mark((function t(e){var a,u;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),!r.trim()){t.next=10;break}return t.next=4,(0,m.Ph)(r);case 4:a=t.sent,u=a.results,b(u),c(""),0===u.length&&g().Notify.warning("No movies found! Please change your request and try again"),k.push((0,n.Z)((0,n.Z)({},y),{},{search:"query=".concat(r)}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("header",{className:o,children:(0,x.jsxs)("form",{className:i,onSubmit:Z,children:[(0,x.jsx)("input",{onChange:function(t){return c(t.target.value)},className:f,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:r}),(0,x.jsx)("button",{type:"submit",className:p,children:"search"})]})}),_.length>0&&_.map((function(t){var e=t.id,r=t.title,n=t.poster_path;return(0,x.jsx)("ul",{children:(0,x.jsx)("li",{children:(0,x.jsxs)(v.rU,{to:{pathname:"/movies/".concat("".concat(e)),state:{from:{location:y}}},children:[(0,x.jsx)("img",{src:n?"https://image.tmdb.org/t/p/w300".concat(n):"https://m.media-amazon.com/images/I/51dCwRZxtLL.jpg",alt:r}),(0,x.jsx)("p",{children:r})]})},e)})}))]})}},3276:function(t,e,r){r.d(e,{JN:function(){return p},M1:function(){return m},Pg:function(){return h},Ph:function(){return f},tx:function(){return v},yA:function(){return o}});var n=r(5861),a=r(4687),u=r.n(a),c=r(4569),s=r.n(c),o="https://image.tmdb.org/t/p/w500",i=s().create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"5ba51c2da469b356ab2a1378773a169b"}}),p=function(){var t=(0,n.Z)(u().mark((function t(){var e,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("/trending/all/day",{params:{page:1}});case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("/search/movie",{params:{query:e}});case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.get("/movie/".concat(e));case 2:return r=t.sent,n=r.data,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),m=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("movie/".concat(e,"/credits"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.cast);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,n.Z)(u().mark((function t(e){var r,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s().get("movie/".concat(e,"/reviews"));case 2:return r=t.sent,n=r.data,t.abrupt("return",n.results);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]);
//# sourceMappingURL=MoviesPage.377e6a48.chunk.js.map